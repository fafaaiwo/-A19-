<view style="background:#F5F5F5;"><uni-nav-bar vue-id="1775f8c0-1" right-text="{{isedit?'完成':'编辑'}}" title="购物车" statusBar="{{true}}" shadow="{{false}}" fixed="{{true}}" data-event-opts="{{[['^clickRight',[['e0']]]]}}" bind:clickRight="__e" bind:__l="__l"></uni-nav-bar><block wx:if="{{disableSelectAll}}"><view class="py-5 d-flex a-center j-center bg-white"><view class="iconfont icon-gouwuche text-light-muted" style="font-size:50rpx;"></view><text class="text-light-muted mx-2">购物车还是为空</text><view class="px-2 py-1 border border-light-secondary rounded" hover-class="bg-light-secondary">去逛逛</view></view></block><block wx:else><view class="px-2"><block wx:for="{{$root.l0}}" wx:for-item="shopItem" wx:for-index="shopIndex" wx:key="shopIndex"><view class="flex-wrap border-bottom bg-white border-light-secondary px-1 mx-1 my-2 cart-item-list"><view class="d-flex a-center pt-3"><label data-event-opts="{{[['tap',[['doSelectShop',[shopIndex]]]]]}}" class="radio d-flex a-center j-center flex-shrink" style="width:90rpx;height:50rpx;" bindtap="__e"><radio value="{{shopItem.$orig.shopid}}" checked="{{shopItem.m0}}" color="#FD6801"></radio></label><view class="font-md font-weight">{{shopItem.$orig.shopName}}</view><view class="iconfont icon-gengduo text-light-muted ml-1 font-md"></view></view><block wx:for="{{shopItem.$orig.goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><view class="d-flex a-center pt-1"><label data-event-opts="{{[['tap',[['selectItem',[['o',['shop',shopIndex],['goods',index]]]]]]]}}" class="radio d-flex a-center j-center flex-shrink" style="width:90rpx;height:90rpx;" bindtap="__e"><radio value="{{item.id}}" checked="{{item.checked}}" color="#FD6801"></radio></label><image class="border-light-secondary rounded flex-shrink" style="height:180rpx;width:180rpx;" src="{{item.cover}}" mode="widthFix"></image><view class="flex-1 d-flex flex-column pl-2"><view class="text-dark br-line-1" style="font-size:35rpx;">{{item.title}}</view><view data-event-opts="{{[['tap',[['doShowPopup',[['o',['shop',shopIndex],['goods',index]]]]]]]}}" class="{{['d-flex text-light-muted mb-1',isedit?' p-1 bg-light mb-2':'']}}" catchtap="__e"><block wx:for="{{item.attrs}}" wx:for-item="attr" wx:for-index="attrIndex" wx:key="attrIndex"><text class="mr-1">{{attr.list[attr.selected].name}}</text></block><block wx:if="{{isedit}}"><view class="iconfont icon-xiala font ml-auto"></view></block></view><view class="row"><view>租价</view><text class="ml-1 main-text-color">{{"￥ "+item.pprice+" / "+item.unit}}</text></view><view class="row"><view>押金</view><text class="ml-1 main-text-color">{{"￥ "+item.deposit}}</text></view></view></view><view data-event-opts="{{[['tap',[['showNumBox',['$0',index],[[['list','',shopIndex],['goodsList','',index]]]]]]]}}" class="d-flex j-end a-center text-light-muted pb-2" bindtap="__e"><view class="mx-1">{{"数量 x "+item.num}}</view><view class="mx-1">{{"租期 x "+item.period}}</view><view class="{{['mx-2 font-md',item.numBoxShow?'iconfont icon-shangla':'iconfont icon-xiala']}}"></view></view><view hidden="{{!(item.numBoxShow)}}"><view class="d-flex j-sb a-center pl-4 pr-1"><text class="ml-5">租赁数量（个）</text><uni-number-box vue-id="{{'1775f8c0-2-'+shopIndex+'-'+index}}" min="{{item.minnum}}" value="{{item.num}}" max="{{item.maxnum}}" data-event-opts="{{[['^change',[['changeNum',['$event','$0',index],[[['list','',shopIndex],['goodsList','',index]]]]]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view><view class="d-flex j-sb a-center pt-2 pb-4 pl-4 pr-1"><text class="ml-5">{{"预计租期（"+item.unit+"）"}}</text><uni-number-box vue-id="{{'1775f8c0-3-'+shopIndex+'-'+index}}" min="{{item.minperiod}}" value="{{item.period}}" max="{{item.maxperiod}}" data-event-opts="{{[['^change',[['changePeriod',['$event','$0',index],[[['list','',shopIndex],['goodsList','',index]]]]]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view></view></view></block></view></block></view></block><view style="height:100rpx;"></view><view class="d-flex a-center bg-white position-fixed left-0 right-0 bottom-0 border-top border-light-secondary a-stretch" style="height:100rpx;z-index:100;"><label data-event-opts="{{[['tap',[['doSelectAll',['$event']]]]]}}" class="radio d-flex a-center j-center flex-shrink" style="width:120rpx;" bindtap="__e"><radio color="#FD6801" checked="{{checkedAll}}" disabled="{{disableSelectAll}}"></radio></label><block wx:if="{{!isedit}}"><view class="flex-1 d-flex a-center j-center font-md">合计押金<view class="main-text-color ml-2">{{"￥ "+totalPrice}}</view></view><view class="flex-1 d-flex a-center j-center main-bg-color text-white font-md" hover-class="main-bg-hover-color">结算</view></block><block wx:else><view class="flex-1 d-flex a-center j-center font-md main-bg-color text-white">移入收藏</view><view class="flex-1 d-flex a-center j-center bg-danger text-white font-md" hover-class="main-bg-hover-color" data-event-opts="{{[['tap',[['doDelGoods',['$event']]]]]}}" bindtap="__e">删除</view></block></view><common-popup vue-id="1775f8c0-4" popupClass="{{popupShow}}" data-event-opts="{{[['^hide',[['doHidePopup']]]]}}" bind:hide="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="d-flex a-center" style="height:275rpx;"><image class="border rounded" style="height:180rpx;width:180rpx;" src="../../static/images/demo/list/1.jpg" mode="widthFix"></image><view class="pl-2"><price vue-id="{{('1775f8c0-5')+','+('1775f8c0-4')}}" unit="天" deposit="{{2366}}" priceSize="font-lg" unitSize="font" showDeposit="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">2366</price><view class="d-block mt-2"><block wx:for="{{popupData.attrs}}" wx:for-item="attr" wx:for-index="attrIndex" wx:key="attrIndex"><text class="mr-1">{{attr.list[attr.selected].name}}</text></block></view></view><view data-event-opts="{{[['tap',[['doHidePopup',['$event']]]]]}}" class="iconfont icon-guanbi ml-auto a-self-start" bindtap="__e"></view></view><scroll-view class="w-100" style="height:900rpx;" scroll-y="{{true}}"><block wx:for="{{popupData.attrs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><card vue-id="{{('1775f8c0-6-'+index)+','+('1775f8c0-4')}}" headTitle="{{item.title}}" headTitleWeight="{{false}}" headBorderBottom="{{false}}" bind:__l="__l" vue-slots="{{['default']}}"><zcm-radio-group vue-id="{{('1775f8c0-7-'+index)+','+('1775f8c0-6-'+index)}}" label="{{item}}" selected="{{item.selected}}" data-event-opts="{{[['^updateSelected',[['__set_sync',['$0','selected','$event'],[[['popupData.attrs','',index,'']]]]]]]}}" bind:updateSelected="__e" bind:__l="__l"></zcm-radio-group></card></block><view class="d-flex j-sb a-center mt-4 p-4 border-top border-light-secondary"><text>租赁时间（单位：天）</text><uni-number-box vue-id="{{('1775f8c0-8')+','+('1775f8c0-4')}}" min="{{popupData.minperiod}}" value="{{popupData.period}}" max="{{popupData.maxperiod}}" data-event-opts="{{[['^change',[['e1']]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view><view class="d-flex j-sb a-center p-4"><text>租赁数量（库存：100）</text><uni-number-box vue-id="{{('1775f8c0-9')+','+('1775f8c0-4')}}" min="{{popupData.minnum}}" value="{{popupData.num}}" max="{{popupData.maxnum}}" data-event-opts="{{[['^change',[['e2']]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view></scroll-view><view class="main-bg-color text-white font-md d-flex a-center j-center" style="height:100rpx;margin-left:-30rpx;margin-right:-30rpx;" hover-class="main-bg-hover-color" data-event-opts="{{[['tap',[['doHidePopup',['$event']]]]]}}" catchtap="__e">确定</view></common-popup></view>